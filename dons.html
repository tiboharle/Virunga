<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="generator" content="PSPad editor, www.pspad.com">
<title>Dons aux oeuvres</title>
<style type="text/css">
#pge{display:block;width:400px;margin:0 auto;background-color:#ffd;padding:5px;text-align:center;}
input {text-align:center;}
.red {color:#f00;font-weight:bold;}
</style>
</head>
<body>
<div id="pge">
    <fieldset><legend>Dons aux oeuvres d'intérêt général ou d'utilité publique</legend>
    <p><label>Votre don : <input id="don" type="text" onblur="calc(this.value)"><label> ok !</p>
    <p id="rsp"></p>
   </fieldset>
</div>

<script type="text/javascript">
function calc(v){var don=+document.getElementById('don').value;
    var red=(don*0.66).toFixed(2).replace(/(\d)(?=(\d\d\d\b)+)/g,'$1 ');
    var val=(don*0.34).toFixed(2).replace(/(\d)(?=(\d\d\d\b)+)/g,'$1 ');
    var ref='<a href="http://www.legifrance.gouv.fr/affichCodeArticle.do?idArticle=LEGIARTI000018619914&cidTexte=LEGITEXT000006069577" target="_blank">Référence : Code général des impôts - Article 200</a>';
    document.getElementById('rsp').innerHTML='Votre réduction d\'impôts : <span class="red">'+red+' €</span><br>Coût effectif : <b>'+val+'</b> €<br>'+ref;
    document.getElementById('don').value=(+don).toFixed(2).replace(/(\d)(?=(\d\d\d\b)+)/g,'$1 ')+' €';
}
</script>
</body>
</html>
